---
title: ัะธััะตะผะฐ ะฟัะฑะปะธะบะฐัะธะธ ะทะฝะฐะฝะธั ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ hugo docker
---

- ะงะฐััั 1. ะะฐะบ [[git/lnxcourse/ะพะฟัะฑะปะธะบะพะฒะฐัั ัะฐะนั ะฒ Hugo ะบะพะฝัะตะนะฝะตัะต]]
## ะพัะบะฐะทะพัััะพะนัะธะฒะพััั ะฟัะฑะปะธะบะฐัะธะธ ะทะฝะฐะฝะธั
ะะฐัะฐัััะพัะฐ ะทะฝะฐะฝะธั ะธะผะตะตั ะธ ัะตัะฝะธัะตัะบะพะต ะธะทะผะตัะตะฝะธะต - ะผะฐัะธะฝะฐ ะธะปะธ ะปัะดะธ, ััะพััะธะต ะทะฐ ะผะฐัะธะฝะฐะผะธ, ะผะพะถะตั ะฟะตัะตััะฐัั ัะพะพัะฒะตัััะฒะพะฒะฐัั ะฟะพััะตะฑะฝะพัััะผ ะทะฝะฐะฝะธั:
![[ะัะบะฐะทะพัััะพะนัะธะฒะพััั ัะฐะนัะฐ  ะฅะฐะฑั#ะะตะฐะปัะฝัะต ัะฟะพัะพะฑั ะพะฑะตัะฟะตัะตะฝะธั ะพัะบะฐะทะพัััะพะนัะธะฒะพััะธ]]

### ัะปะตะผะตะฝัั ัะธััะตะผั ะฟัะฑะปะธะบะฐัะธะธ ะทะฝะฐะฝะธั
ะ ะฝะฐัะตะผ ัะฟัะฐะถะฝะตะฝะธะธ ัะตัะฝะธัะตัะบะฐั ะพัะบะฐะทะพัััะพะนัะธะฒะพััั ัะฐะนัะฐ (ะฟัะฑะปะธะบะฐัะธะธ ะทะฝะฐะฝะธั) ะฑัะดะตั ัะพััะพััั ะธะท:
- [x] ะผะฝะพะณะธั hugo-http-ัะตัะฒะตัะพะฒ, ัะตะทะตัะฒะธััััะธั ะดััะณ ะดััะณะฐ
- [x] ะพะดะฝะพะณะพ nginx-http-ัะตัะฒะตัะฐ, ะธัััะตะณะพ ะดะปั ัะธัะฐัะตะปั ะทะฝะฐะฝะธั ะฝะฐะธะปัััะธะน hugo-ัะตัะฒะตั ั ะฟัะฑะปะธะบะฐัะธะตะน ะทะฝะฐะฝะธั
- [x] ะพะดะฝะพะณะพ ะดะตะฟะพะทะธัะพัะธั ั ะบะพะผะฐะฝะดะฐะผะธ ะดะปั nginx-http-ัะตัะฒะตัะฐ. ะญัะพั ะดะตะฟะพะทะธัะพัะธะน ะฟะพะดัะธะฝะตะฝ `git`-ัะตัะฝะพะปะพะณะธะธ.
- [x] linux ัะตัะฒะตั ะดะปั ะฒัะฟะพะปะฝะตะฝะธั ะฟัะพะณัะฐะผะผั `docker` - ัะตัะฝะธัะตัะบะพะณะพ ะพัะฝะพะฒะฐะฝะธั hugo-ะบะพะฝะตะนะฝะตัะพะฒ ะธ nginx-ะบะพะฝัะตะนะฝะตัะพะฒ
- [x] ะพะดะฝะพะณะพ ะดะตะฟะพะทะธัะพัะธั ัะพ ะทะฝะฐะฝะธัะผะธ ะฒ ัะพัะผะต `.md`-ะทะฐะผะตัะพะบ, ัััะปะฐััะธััั ะดััะณ ะฝะฐ ะดััะณะฐ. ะญัะพั ะดะตะฟะพะทะธัะพัะธะน ะฟะพะดัะธะฝะตะฝ `git`-ัะตัะฝะพะปะพะณะธะธ.

### ะฒะบะปััะตะฝะธะต ัะตะทะตัะฒะธััััะตะณะพ hugo-ะบะพะฝัะตะนะฝะตัะฐ
```bash
cd /opt/git/amethyst/
sudo docker run --name hugo-slave -p 1314:1313 \
        -v ${PWD}:/src \
        ghcr.io/hugomods/hugo:go-git-0.121.2  \
        hugo server --bind 0.0.0.0
```
ะัะปะธ [[git/lnxcourse/ัะธััะตะผะฐ ะฟัะฑะปะธะบะฐัะธะธ ะทะฝะฐะฝะธั, ะธัะฟะพะปัะทัั hugo docker#ะทะฐะดะตะนััะฒะพะฒะฐัั hugo ะบะพะฝัะตะนะฝะตั|master-ะบะพะฝัะตะนะฝะตั]] ะฝะฐัััะพะตะฝ ะฝะฐ ะฟะพัั 1313, ัะพ slave-ะบะพะฝัะตะนะฝะตั ะฝะฐ ะฟะพัั 1314.

### ัััะฐะฝะพะฒะบะฐ ัะตะฟะพะทะธัะพัะธั, ัะฟัะฐะฒะปัััะตะณะพ nginx-ัะตัะฒะตัะพะผ
ะะตะฟะพะทะธัะพัะธะน ะฒะบะปััะฐะตั ะฒ ัะตะฑะต ะผะฝะพะถะตััะฒะพ ะบะพะฝัะธะณะพะฒ ะธ ัะบัะธะฟัะพะฒ ะดะปั ัะฟัะฐะฒะปะตะฝะธั nginx-ัะตัะฒะตัะพะผ. ะ ััะพะผ ัะฟัะฐะถะฝะตะฝะธะธ ะธัะฟะพะปัะทััััั:
- [ ] nginx.conf
- [ ] trafic.sh
- [ ] whererafic.sh

ะะพะฝัะธะณ ะธ ัะบัะธะฟัั ะฟัะตะดะฟะพะปะฐะณะฐะตััั ัะพะฒะตััะตะฝััะฒะพะฒะฐัั ะฟะพััะตะดััะฒะพะผ *ะผะตัะพะดะฐ ะบะพะฝััะพะปั ะฒะตััะธะน git*, ะฟะพััะพะผั ัะตะฟะพะทะธัะพัะธะน ั ะฝะธะผะธ ัะปะตะดัะตั ัะฐะทะผะตััะธัั ะฒ ะปะพะบะฐะปัะฝะพะน ะดะธัะตะบัะพัะธะธ  linux-ัะพัั-ัะตัะฒะตัะฐ, ัะพะดะตัะถะฐัะตะน ะฒ ัะตะฑะต git-ัะตะฟะพะทะธัะพัะธะธ, ะธัะฟะพะปัะทัะตะผัะต ะฝะฐ ัะพัั-ัะตัะฒะตัะต, ั ะฝะฐั:
```bash
mkdir /opt/git/nginx_balancer/
cd /opt/git/nginx_balancer/
git clone git@github.com:mbrzn/nginx_balancer.git
```

```text
# nginx.conf
user nginx;
worker_processes auto;
pid /run/nginx.pid;
include /etc/nginx/modules-enabled/*.conf;

events {
}
http {
ย ย # Logging Settings
ย ย ##
ย ย access_log /var/log/nginx/access.log;
ย ย error_log /var/log/nginx/error.log;

ย ย # ะดะปั ะบะธัะธะปะธัะตัะบะธั ะทะฝะฐะบะพะฒ
ย ย charset UTF-8;

ย ย upstream backend { ย ย ย ย ย ย ย ย ย ย ย# ัะฐัะฟัะตะดะตะปะธัั ะทะฐะฟัะพัั: ย
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย # ะพัะตัะตะดะฝะพะน ะทะฐะฟัะพั - ัะปะตะดัััะตะผั ัะตัะฒะตัั

ย ย ย ย server 192.168.1.69:1314; ย ย ย ย ย # hugo slave-ะบะพะฝัะตะนะฝะตั ัะตะทะตัะฒะธััััะธะน, ัะฐะนั lnxcourse

ย ย ย ย server 192.168.1.69:1313; ย ย ย ย ย # hugo master-ะบะพะฝัะตะนะฝะตั, ัะฐะนั lnxcourse
ย ย }

ย ย server { ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย# ัะพะฑััะฒะตะฝะฝะพ ัะตัะฒะตั http ะทะฐะฟัะพัะพะฒ
ย ย ย ย ย ย ย ย location / {
ย ย ย ย ย ย ย ย proxy_pass http://backend; ย# ัะตะถะธะผ proxy, ะฟะตัะตะฝะฐะฟัะฐะฒะปัั ะทะฐะฟัะพัั
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย # ะฒ ัะฐัะฟัะตะดะตะปะธัะตะปั backend
ย ย ย ย ย ย ย ย }
ย ย }
}
```
### ัััะฐะฝะพะฒะบะฐ ะฑะฐะปะฐะฝัะธััััะตะณะพ nginx-ัะตัะฒะตัะฐ

```bash
sudo docker run -d \
    --name nginx-blns \
    -p 80:80 \
    -v  /opt/git/nginx_balancer/:/etc/nginx/ \
    nginx:1.25.3
```

ะขะตะฟะตัั ะบ hugo-ะบะพะฝัะตะฝั-ัะตัะฒะตัะฐะผ ะผะพะถะฝะพ ะพะฑัะฐัะฐัััั ะพัะบะฐะทะพัััะพะนัะธะฒะพ - ะฟะพััะตะดััะฒะพะผ nginx-ะฑะฐะปะฐะฝัะธััััะตะณะพ ัะตัะฒะตัะฐ:
![[git/lnxcourse/files/hugo docker.png]]

## ัะพะฒะตััะตะฝััะฒะพะฒะฐะฝะธะต ัะฟัะฐะฒะปะตะฝะธั ัะธััะตะผะพะน ะฟัะฑะปะธะบะฐัะธะธ ะทะฝะฐะฝะธะน
ะะฐะถะดัะน [[git/lnxcourse/ัะธััะตะผะฐ ะฟัะฑะปะธะบะฐัะธะธ ะทะฝะฐะฝะธั, ะธัะฟะพะปัะทัั hugo docker#ัะปะตะผะตะฝัั ัะธััะตะผั ะฟัะฑะปะธะบะฐัะธะธ ะทะฝะฐะฝะธั| ัะปะตะผะตะฝั ัะธััะตะผั ะฟัะฑะปะธะบะฐัะธะธ ะทะฝะฐะฝะธะน]] ะดะพะปะถะตะฝ ัะพะฒะตััะตะฝััะฒะพะฒะฐัััั - ะฒะตะดั ะฟะพะทะฝะฐะฝะธะต ัััั ัะพะฒะตััะตะฝััะฒะพะฒะฐะฝะธะต. 

ะัััั ัะพะฒะตััะตะฝััะฒะพะฒะฐะฝะธะต ัะฟัะฐะฒะปะตะฝะธั ัะพััะพะธั ะฒ
- [ ] ัะฐะทะฒะพัะฐัะธะฒะฐะฝะธะน ะดะพะฟะพะปะฝะธัะตะปัะฝะพะณะพ ัะตะทะตัะฒะธััััะตะณะพ hugo-ะบะพะฝัะตะฝั ัะตัะฒะตัะฐ, ะฟัะตะดะฝะฐะทะฝะฐัะตะฝะฝะพะณะพ ะดะปั ะฒะบะปััะตะฝะธั ัะพะปัะบะพ ัะพะณะดะฐ, ะบะพะณะดะฐ ะธ master, ะธ slave-ะบะพะฝัะตะฝั ัะตัะฒะตัะฐ ะฒัะนะดัั ะธะท ัััะพั

ะะทะผะตะฝัะตะผ ะบะพะฝัะธะณ nginx-ะฑะฐะปะฐะฝัะธััััะตะณะพ ัะตัะฒะตัะฐ:
```text
user nginx;
worker_processes auto;
pid /run/nginx.pid;
include /etc/nginx/modules-enabled/*.conf;

events {
}

http {
ย ย # Logging Settings
ย ย ##
ย ย access_log /var/log/nginx/access.log;
ย ย error_log /var/log/nginx/error.log;

ย ย # ะดะปั ะบะธัะธะปะธัะตัะบะธั ะทะฝะฐะบะพะฒ
ย ย charset UTF-8;

ย ย upstream backend { ย ย ย ย ย ย ย ย ย ย ย# ัะฐัะฟัะตะดะตะปะธัั ะทะฐะฟัะพัั: ย
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย # ะพัะตัะตะดะฝะพะน ะทะฐะฟัะพั - ัะปะตะดัััะตะผั ัะตัะฒะตัั

ย ย ย ย server 192.168.1.69:1315 backup; ย ย# hugo backup ะบะพะฝัะตะนะฝะตั ัะตะทะตัะฒะธััััะธะน, ัะฐะนั lnxcourse

ย ย ย ย server 192.168.1.69:1314; ย ย ย ย ย # hugo slave ะบะพะฝัะตะนะฝะตั, ัะตะทะตัะฒะธััััะธะน ะฟัะฑะปะธะบะฐัะธั ัะฐะนัะฐ lnxcourse

ย ย ย ย server 192.168.1.69:1313; ย ย ย ย ย # hugo master ะบะพะฝัะตะนะฝะตั, ัะฐะนั lnxcourse
ย ย }
 
ย ย server { ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย# ัะพะฑััะฒะตะฝะฝะพ ัะตัะฒะตั http ะทะฐะฟัะพัะพะฒ
ย ย ย ย ย ย ย ย location / {
ย ย ย ย ย ย ย ย proxy_pass http://backend; ย# ัะตะถะธะผ proxy, ะฟะตัะตะฝะฐะฟัะฐะฒะปัั ะทะฐะฟัะพัั
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย # ะฒ ัะฐัะฟัะตะดะตะปะธัะตะปั backend
ย ย ย ย ย ย ย ย }
ย ย }
}
```
ะะตะฟะพะทะธัะพัะธะน ัะธะฝััะพะฝะธะทะธััะตะผ ั git-ัะตัะฒะตัะพะผ (ั ะฝะฐั - `github`).

ะะฑะฝะพะฒะปัะตะผ ัะตะฟะพะทะธัะพัะธะน ะบะพะผะฐะฝะด nginx ัะตัะฒะตัะฐ ะฝะฐ linux-ัะพัั ัะตัะฒะตัะต:
```bash
cd /opt/git/nginx_balancer/
git fetch
git pull
```

ะะบะปััะฐะตะผ ะฒ ัะฐะฑะพัั ัะตะทะตัะฒะฝัะน hugo-ะบะพะฝัะตะฝั-ัะตัะฒะตั:
```bash
cd /opt/git/amethyst/
sudo docker run --name hugo-backup -p 1315:1313 \
        -v ${PWD}:/src \
        ghcr.io/hugomods/hugo:go-git-0.121.2  \
        hugo server --bind 0.0.0.0
# ะฟะพัั 1313: master hugo-ะบะพะฝัะตะฝั ัะตัะฒะตั
# ะฟะพัั 1314: slave hugo-ะบะพะฝัะตะฝั ัะตัะฒะตั
# ะฟะพัั 1315: backup hugo-ะบะพะฝัะตะฝั ัะตัะฒะตั
```


ะะตัะตะทะฐะฟััะบะฐะตะผ ะบะพะฝัะตะนะฝะตั ั nginx-ะฑะฐะปะฐะฝัะธััััะธะผ ัะตัะฒะตัะพะผ:
```bash
sudo docker container restart nginx-blns
```

ะัะพะฒะตััะตะผ ะดะตะนััะฒะธัะตะปัะฝะพััั ัะฟัะฐะฒะปะตะฝะธั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพ ะฒัะบะปััะฐั ะธะท ัะฐะฑะพัั master ะธ slave-ะบะพะฝัะตะฝั ัะตัะฒะตัะฐ, ะฟัะตะดะฟะพะปะฐะณะฐั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะฟะตัะตะบะปััะตะฝะธั ััะฐัะธะบะฐ ะฝะฐ backup-ะบะพะฝัะตะฝั ัะตัะฒะตั:
```shell
curl -s localhost | grep -P '<title.+Welcome'
<title>๐ Welcome to Amethyst! | ๐ Amethyst</title>

# ะพัะปััะฐะตะผ ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพ hugo-ะบะพะฝัะตะฝั ัะตัะฒะตัะฐ
# ะธ ะฟัะพะฒะตััะตะผ ะดะพัััะฟะฝะพััั ะบะพะฝัะตะฝัะฐ
sudo docker stop hugo-master
hugo-master
curl -s localhost | grep -P '<title.+Welcome'
<title>๐ Welcome to Amethyst! | ๐ Amethyst</title>
# ะทะดะตัั ะดะตะนััะฒัะตั hugo-slave ัะตัะฒะตั

sudo docker stop hugo-slave
hugo-slave

curl -s localhost | grep -P '<title.+Welcome'
<title>๐ Welcome to Amethyst! | ๐ Amethyst</title>
# ะทะดะตัั ะดะตะนััะฒัะตั hugo-backup ัะตัะฒะตั
# ะทะฝะฐัะธั ะบะพะฝัะธะณ nginx-ะฑะฐะปะฐะฝัะธัะพะฒัะธะบะฐ ะดะตะนััะฒะธัะตะปัะฝะพ ะพะฑะฝะพะฒะธะปัั -
# ะฒ ัะฐะฑะพัั ะฒะบะปััะธะปัั hugo-backup ัะตัะฒะตั ัะตัะตะท ะฟะพัั 1315
# ะฝะต ะทะฐะดะตะนััะฒะพะฒะฐะฝะฝัะน ะฒ ะฟัะตะดัะดััะตะผ ะบะพะฝัะธะณะต

sudo docker stop hugo-backup
hugo-backup
administrator@s2:~$ curl -s localhost | grep -P '<title.+Welcome'
# ะทะดะตัั ะฒัะฒะพะดะฐ ะบะพะผะฐะฝะดั curl ะฝะตั - ะทะฝะฐัะธั 
# ะฝะตั ะดะตะนััะฒัััะธั hugo-ะบะพะฝัะตะฝั ัะตัะฒะตัะตัะพะฒ
administrator@s2:~$

sudo docker start hugo-master
hugo-master
curl -s localhost | grep -P '<title.+Welcome'
<title>๐ Welcome to Amethyst! | ๐ Amethyst</title>
# ะดะพัััะฟะฝะพััั ะบะพะฝัะตะฝัะฐ ะฒะพัััะฐะฝะพะฒะปะตะฝะฐ ะฟะพััะตะดััะฒะพะผ
# ะฒะพัััะฐะฝะพะฒะปะตะฝะธั ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ hugo-master-ะบะพะฝัะตะฝั ัะตัะฒะตัะฐ
```

## ะงัะพ  ะฝะตะพะฑัะพะดะธะผะพ ัะปัััะธัั?
### ะฝะตะฟะพััะตะดััะฒะตะฝะฝะพะต ะฝะฐะฑะปัะดะตะฝะธะต ะทะฐ ะฟะพััะฐะผะธ ะบะพะฝัะตะนะฝะตัะพะฒ
ะะฝัะตัะฟัะตัะธัะพะฒะฐัั ะฟัะธัะพะดั ะดะพัััะฟะฝะพััะธ/ะฝะต ะดะพัััะฟะฝะพััะธ ะบะพะฝัะตะฝัะฐ hugo-ะบะพะฝัะตะฝั  ัะตัะฒะตัะพะผ ะผะพะถะฝะพ ะผะฝะพะณะธะผะธ ะพะฑัะฐะทะฐะผะธ. ะ ะฒะพั ะฟััะผะพะต ะฝะฐะฑะปัะดะตะฝะธะต ะทะฐ ะฟะพััะฐะผะธ ะธัะบะปััะฐะตั ะผะฝะพะถะตััะฒะตะฝะฝะพััั ะธะฝัะตัะฟัะตัะฐัะธะน. 
- [ ] ะฝะตะพะฑัะพะดะธะผะพ ะพัะฒะพะธัั ะฝะตะฟะพััะตะดััะฒะตะฝะฝะพะต ะฝะฐะฑะปัะดะตะฝะธะต ะทะฐ ะฟะพััะฐะผะธ

ะะฐะบะธะผ ััะตะดััะฒะพะผ ะฒะพัะฟะพะปัะทะพะฒะฐัััั?

###### Docker stats
- [docker stats | Docker Docs](https://docs.docker.com/engine/reference/commandline/stats/)

>ะะพะฝะธัะพั `docker stats`ยะทะฐะฟััะตะฝะฝัั ะบะพะฝัะตะนะฝะตัะพะฒ.

- [docker stats | Docker Docs](https://docs.docker.com/engine/reference/commandline/stats/#format)
```bash
sudo docker stats --format "{{.Container}}: {{.NetIO}}"
sudo docker stats --format "table {{.Name}}:\t {{.NetIO}}"
# ะฟะพัะพะบะพะฒัะน ะฒัะฒะพะด ัะตัะตะฒะพะณะพ ัะฐััะธะบะฐ

sudo docker stats --format "table {{.Name}}:\t {{.NetIO}}" --no-stream
# ะฝะต ะฟะพัะพะบะพะฒัะน ะฒัะฒะพะด, ะฝะพ ะตะดะธะฝะธัะฝะพะต, ะพะดะฝะพะผะพะผะตะฝัะฝะพะต ะทะฝะฐัะตะฝะธะต
```
- [x] ะะดะตัั ะฟัะตะดะปะฐะณะฐะตััั ะธะทะผะตัััั ััะฐัะธะบ ะฒ Mbit, ััะพ ะพัะตะฝั ะณััะฑะฐั ะตะดะธะฝะธัะฐ ะธะทะผะตัะตะฝะธั, 
	- [x] ัะผ. [wheretrafic.sh](https://github.com/mbrzn/nginx_balancer/blob/2d22e3678831b2ad9a1356fb53b6dd24f6f8f7b1/wheretrafic.sh)
		- [x] ะธ ัะธะฝัะฐะบัะธัะตัะบะธะน ะฐะฝะฐะปะธะทะฐัะพั [trafic.sh](https://github.com/mbrzn/nginx_balancer/blob/2d22e3678831b2ad9a1356fb53b6dd24f6f8f7b1/trafic.sh)
- [ ] ะฝัะถะตะฝ ะดััะณะพะน, ะฑะพะปะตะต ััะฒััะฒะธัะตะปัะฝัะน ะธะฝััััะผะตะฝั


###### Docker API ะผะตััะธะบะธ
- [How to Collect Docker Metrics | Datadog](https://www.datadoghq.com/blog/how-to-collect-docker-metrics/)

```bash
$ echo -ne "GET /containers/1c39ff0fcbc7/stats HTTP/1.1\r\n\r\n" | sudo nc -U /var/run/docker.sock
echo -ne "GET /containers/d9a357236073/stats HTTP/1.1\r\n\r\n" | sudo nc -U /var/run/docker.sock
HTTP/1.1 400 Bad Request: missing required Host header
Content-Type: text/plain; charset=utf-8
Connection: close
```
ะญัะธ ะบะพะผะฐะฝะดั ะฝะต ััะฐะฑะพัะฐะปะธ, ะฝัะถะฝะพ ั ะฝะธะผะธ ัะฐะทะฑะธัะฐัััั
- [ ] ะบะฐะถะตััั, ะฟะตััะฟะตะบัะธะฒะฝัะน ะธะฝััััะผะตะฝั
	- [ ] ะฝัะถะดะฐะตััั ะฒ ะพัะฒะพะตะฝะธะธ
	- [ ] ะพัะธะตะฝัะธัะพะฒะฐะฝ ะฝะฐ ะฟัะพะณัะฐะผะผะธััะพะฒ ะฝะฐ ัะทัะบะต `Golang`

###### ss 
 - [10 Examples of Linux ss Command - Monitor Network Connections - BinaryTides](https://www.binarytides.com/linux-ss-command/)
>- Here is an example

`$ watch -n 1 "ss -t4 state syn-sent"`
>After running the above command, try opening some website in a browser or download something from some url. Immediately you should see socket connections appearing in the output, but for a very short while.

- [ ] `sgl` ะฟัะพะผะตะปัะบะธะฒะฐะตั, ะฐ `http` - ะฝะตั. ะะฐะบ ะฝะฐัััะพะธัั?
- [ ] ะบะฐะถะตััั, ะฟะตััะฟะตะบัะธะฒะฝัะน ะธะฝััััะผะตะฝั, ะฝัะถะดะฐะตััั ะฒ ะพัะฒะพะตะฝะธะธ
###### ะฒ iptables
- [networking - Traffic stats per network port - Unix & Linux Stack Exchange](https://unix.stackexchange.com/questions/41765/traffic-stats-per-network-port)
>iptables ะผะพะถะตั ะดะฐัั ะฒะฐะผ ััะฐัะธััะธะบั ะพ ัะพะผ, ัะบะพะปัะบะพ ะฑัะปะพ ะทะฐะฟััะตะฝะพ ะบะฐะถะดะพะต ะฟัะฐะฒะธะปะพ, ะฟะพััะพะผั ะฒั ะผะพะถะตัะต ะดะพะฑะฐะฒะธัั ะฟัะฐะฒะธะปะฐ LOG ะฝะฐ ะธะฝัะตัะตััััะธั ะฟะพััะฐั (ัะบะฐะถะตะผ, ะฟะพัั 20 ะธ ะฟะพัั 80):

```
iptables -A INPUT -p tcp --dport 22
iptables -A INPUT -p tcp --dport 80
```

>ะธ ัะพะณะดะฐ

```
iptables -n -L -v
```

>ะฟัะตะดะพััะฐะฒะธั ะฒะฐะผ ะบะพะปะธัะตััะฒะพ ะฟะฐะบะตัะพะฒ ะธ ะฑะฐะนัะพะฒ, ะพัะฟัะฐะฒะปะตะฝะฝัั ัะตัะตะท ััะธ ะฟะพััั. ะะพะฝะตัะฝะพ, ะฒะฐะผ ะฟัะธะดะตััั ะฟัะพะฐะฝะฐะปะธะทะธัะพะฒะฐัั ะธะท ะฒัะฒะพะดะฐ ะฟะพััั, ะบะพัะพััะต ะฒะฐั ะธะฝัะตัะตัััั.

>ะัะปะธ ะฒะฐะผ ะฝัะถะฝั ัะพัะฝัะต ะทะฝะฐัะตะฝะธั, ะดะพะฑะฐะฒััะต a -x:

```
iptables -n -L -v -x
```

- [ ] ะบะฐะถะตััั, ะฟะตััะฟะตะบัะธะฒะฝัะน ะธะฝััััะผะตะฝั, ะฝัะถะดะฐะตััั ะฒ ะพัะฒะพะตะฝะธะธ
