---
type: course
---

Жёсткие диски 
Лекция 24.11.2023: 
### План лекции
Цели занятия
- [ ]  понимать из чего состоит жёсткий диск;  
- [ ]  понимать функционирование таблицы разделов;  
- [ ]  понимать ограничения структуры данных;  
- [ ]  структурировать дисковое пространство для загрузки ОС.

Краткое содержание
- [ ] hdd,  
- [ ] ssd,  
- [ ] адрессация,  
- [ ] бинарные данные,  
- [ ] mbr,  
- [ ] gpt,  
- [ ] утилита dd,  
- [ ] разбор таблицы разделов mbr

## [[hhd в Linux. Administrator Linux Basic|hhd в Linux]]

![[блочный файл VS каталог]]
#### вопросы к семинару
- [x] ? как [[скопировать MBR в файл]]
- [ ] ? [[прочитать таблицу разделов MBR]]
##### Упражнения к семинару
[[подключить диск и создать один раздел на нем]]
[[подключить USB флэш и записать не нее файл]]
**Упражнение 1** с usb флешкой
- [x] примонтировать ее к файловой системе Ubuntu
- [x] прочитать файл на ней
- [x] проблема [[дать пользователю права на папку#^210570]]  
- [x] размонтировать ее
- [x] извлечь ее из машины с гипервизором VirtualBox
- [x] прочитать файл Ubuntu на другой машине

**Упражнение 2** с виртуальным hdd, созданным гипервизором VirtualBox
- [x] примонтировать hdd к файловой системе виртуального Ubuntu Server
- [x] скопировать на него файл
- [x] размонтировать его
- [x] отключить hdd от виртуального Ubuntu Server средствами гипервизора 
- [x] подключить hdd к виртуальной Ubuntu WorkStation под гипервизором VirtualBox
- [x] прочитать файл c hdd программами на Ubuntu WorkStation
- [x] отключить виртуальный hdd от Ubuntu WorkStation средствами гипервизора VirtualBox

Виртуальный hdd здесь смонтирован в `/mnt/test`
```bash
$ sudo mkdir dir
$ ls -l | grep dir
drwxr-xr-x 2 root root 6 ноя 20 01:31 dir
$ sudo chgrp storage_writer dir
$ ls -l | grep dir
drwxr-xr-x 2 root storage_writer 6 ноя 20 01:31 dir
$ sudo chmod g+w dir
$ touch dir/file
$ ls -l | grep dir
drwxrwxr-x 2 root storage_writer 18 ноя 20 01:33 dir
```
с этой папкой можно :
- в случае Ubuntu Server создавать папки от non-root пользователя
- в случае Ubuntu WorkStation уже существующие папки на диски сразу же обнаружили полные права  не non-root пользователя

- [x] [[создать диск с несколькими разделами]]
- [x] [[монтировать раздел LVM]]
#### Литература к лекции:
1. лекции по теме [[Буранов Андрей#Литература]]
2. [[Сравнение структур разделов GPT и MBR  Хабр]]
3. [Машечкин И. В. - Операционные системы - Файловая система в Unix - YouTube](https://www.youtube.com/watch?v=VPNAFKBkh-Q)